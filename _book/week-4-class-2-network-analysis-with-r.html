<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 4, Class 2: Network Analysis with R | Applying Network Analysis to Humanities</title>
  <meta name="description" content="Week 4, Class 2: Network Analysis with R | Applying Network Analysis to Humanities" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 4, Class 2: Network Analysis with R | Applying Network Analysis to Humanities" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="yann-ryan/network-analysis-humanities-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 4, Class 2: Network Analysis with R | Applying Network Analysis to Humanities" />
  
  
  

<meta name="author" content="Yann Ryan, Iiro Tihonen" />


<meta name="date" content="2022-11-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-4-class-1-network-concepts-and-metrics.html"/>
<link rel="next" href="week-5-class-1-visualising-networks-with-ggraph.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.23/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Network Analysis Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Book</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-course"><i class="fa fa-check"></i>About the course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#final-project"><i class="fa fa-check"></i>Final Project</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#reading"><i class="fa fa-check"></i>Reading</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#slides"><i class="fa fa-check"></i>Slides</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html"><i class="fa fa-check"></i>Week 1, class 1: Course Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#how-to-use-this-book-and-follow-the-course."><i class="fa fa-check"></i>How to use this book and follow the course.</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#what-do-we-mean-by-a-network"><i class="fa fa-check"></i>What do we mean by a ‘network’?</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#networks-in-the-humanities"><i class="fa fa-check"></i>Networks in the Humanities</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#some-examples"><i class="fa fa-check"></i>Some Examples</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#graph-theory"><i class="fa fa-check"></i>Graph Theory</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#why-use-networks-in-humanities"><i class="fa fa-check"></i>Why use networks in humanities?</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#network-basics"><i class="fa fa-check"></i>Network Basics</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#nodes-and-edges"><i class="fa fa-check"></i>Nodes and Edges</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#edge-weights"><i class="fa fa-check"></i>Edge weights</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#edge-direction"><i class="fa fa-check"></i>Edge direction</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#weighted-and-directed"><i class="fa fa-check"></i>Weighted and directed</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#network-paths"><i class="fa fa-check"></i>Network paths</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#different-network-types"><i class="fa fa-check"></i>Different Network Types</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#bipartite-networks"><i class="fa fa-check"></i>Bipartite networks</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#multigraphs"><i class="fa fa-check"></i>Multigraphs</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#hypergraphs"><i class="fa fa-check"></i>Hypergraphs</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#spatial-networks"><i class="fa fa-check"></i>Spatial networks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#from-bridges-to-social-networks"><i class="fa fa-check"></i>From Bridges to Social Networks…</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#the-strength-of-weak-ties"><i class="fa fa-check"></i>The Strength of Weak Ties</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#its-a-small-world"><i class="fa fa-check"></i>It’s a Small World</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#the-new-science-of-networks"><i class="fa fa-check"></i>The ‘New’ Science of Networks</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#conclusion"><i class="fa fa-check"></i>Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><i class="fa fa-check"></i>Week 1, Class 2: Introduction to R and the Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#r-and-r-studio"><i class="fa fa-check"></i>R and R-Studio</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#logging-into-csc-notebooks-and-opening-a-notebook."><i class="fa fa-check"></i>Logging into CSC notebooks and opening a notebook.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#using-r"><i class="fa fa-check"></i>Using R</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#base-r."><i class="fa fa-check"></i>‘Base’ R.</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#basic-r-data-structures"><i class="fa fa-check"></i>Basic R data structures</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#data-types"><i class="fa fa-check"></i>Data types</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#installing-and-loading-packages"><i class="fa fa-check"></i>Installing and loading packages:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#tidyverse"><i class="fa fa-check"></i>Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#select-pull"><i class="fa fa-check"></i>select(), pull()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#group_by-tally-summarise"><i class="fa fa-check"></i>group_by(), tally(), summarise()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#filter"><i class="fa fa-check"></i>filter()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#slice_max-slice_min"><i class="fa fa-check"></i>slice_max(), slice_min()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#sort-arrange"><i class="fa fa-check"></i>sort(), arrange()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#left_join-inner_join-anti_join"><i class="fa fa-check"></i>left_join(), inner_join(), anti_join()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#plotting-using-ggplot"><i class="fa fa-check"></i>Plotting using ggplot()</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#reading-in-external-data"><i class="fa fa-check"></i>Reading in external data</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#further-resources"><i class="fa fa-check"></i>Further resources</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#reading-for-next-week"><i class="fa fa-check"></i>Reading For Next Week</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html"><i class="fa fa-check"></i>Week 2, Class 1: Acquiring and Working With Network Data</a>
<ul>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#presenting-networks-as-data"><i class="fa fa-check"></i>Presenting Networks as Data</a></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#estc"><i class="fa fa-check"></i>ESTC</a></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#tweetsets-and-hydrator"><i class="fa fa-check"></i>Tweetsets and hydrator</a></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#instructions-for-homework"><i class="fa fa-check"></i>Instructions for homework</a></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><i class="fa fa-check"></i>Week 2, Class 2: Cleaning the Observed and Thinking About the Unobserved Data</a>
<ul>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#unharmonised-and-missing-data-or-the-universals-of-data-analysis"><i class="fa fa-check"></i>Unharmonised and Missing data, or the Universals of Data Analysis</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#unharmonised-data---an-overview"><i class="fa fa-check"></i>Unharmonised Data - An Overview</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#harmonisation-table"><i class="fa fa-check"></i>Harmonisation Table</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#regular-expressions-and-the-stringr-tools"><i class="fa fa-check"></i>Regular Expressions and the Stringr Tools</a>
<ul>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#cleaning-data-at-scale"><i class="fa fa-check"></i>Cleaning Data at Scale</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#using-stringr-and-regular-experssions"><i class="fa fa-check"></i>Using Stringr and Regular Experssions</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#more-about-regular-expressions-and-stringr-in-practice"><i class="fa fa-check"></i>More About Regular Expressions and Stringr in Practice</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#regular-expressions-and-stringr---a-summary"><i class="fa fa-check"></i>Regular Expressions and Stringr - a Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#other-solutions-to-harmonisation-of-data"><i class="fa fa-check"></i>Other Solutions To Harmonisation of Data</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#missing-data"><i class="fa fa-check"></i>Missing data</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#for-the-next-week"><i class="fa fa-check"></i>For the Next Week</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html"><a href="week-2-class-2-cleaning-the-observed-and-thinking-about-the-unobserved-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html"><i class="fa fa-check"></i>Week 3, Class 1: Relational Data Part 1</a>
<ul>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#managing-data"><i class="fa fa-check"></i>Managing Data</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#relational-data"><i class="fa fa-check"></i>Relational data</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#conceptual-data-model"><i class="fa fa-check"></i>Conceptual Data Model</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#logical-data-model"><i class="fa fa-check"></i>Logical Data Model</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#relational-data-in-practice"><i class="fa fa-check"></i>Relational Data in Practice</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#data-modeling-and-networks"><i class="fa fa-check"></i>Data Modeling and Networks</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#note-about-unique-identifiers"><i class="fa fa-check"></i>Note About Unique Identifiers</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-relational-data-part-1.html"><a href="week-3-class-1-relational-data-part-1.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html"><i class="fa fa-check"></i>Week 3, Class 2: Relational Data Part 2</a>
<ul>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html#working-with-relational-data"><i class="fa fa-check"></i>Working With Relational Data</a></li>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html#creating-a-network-from-relational-data"><i class="fa fa-check"></i>Creating A Network From Relational Data</a></li>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html#other-practical-questions-with-relational-data"><i class="fa fa-check"></i>Other Practical Questions With Relational Data</a></li>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html#for-the-next-week-1"><i class="fa fa-check"></i>For the Next Week</a></li>
<li class="chapter" data-level="" data-path="week-3-class-2-relational-data-part-2.html"><a href="week-3-class-2-relational-data-part-2.html#references-3"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html"><i class="fa fa-check"></i>Week 4, Class 1: Network Concepts and Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#node-level-metrics"><i class="fa fa-check"></i>Node-level metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#degree"><i class="fa fa-check"></i>Degree</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#betweenness-centrality"><i class="fa fa-check"></i>Betweenness Centrality</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#eigenvector-centrality"><i class="fa fa-check"></i>Eigenvector Centrality</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#closeness-centrality"><i class="fa fa-check"></i>Closeness centrality</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#edge-level-metrics"><i class="fa fa-check"></i>Edge-level metrics</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#global-metrics"><i class="fa fa-check"></i>Global Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#density"><i class="fa fa-check"></i>Density</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#average-path-length"><i class="fa fa-check"></i>Average path length</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#clustering-coefficient"><i class="fa fa-check"></i>Clustering coefficient</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#groups-and-community-structure-in-networks"><i class="fa fa-check"></i>Groups and Community Structure in Networks</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#components"><i class="fa fa-check"></i>Components</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#cliques"><i class="fa fa-check"></i>Cliques</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#community-detection-methods"><i class="fa fa-check"></i>Community Detection Methods</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#social-network-concepts-triadic-closure-transitivity-brokerage"><i class="fa fa-check"></i>Social network concepts: triadic closure, transitivity, brokerage</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#triads"><i class="fa fa-check"></i>Triads</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#conclusions"><i class="fa fa-check"></i>Conclusions</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-concepts-and-metrics.html"><a href="week-4-class-1-network-concepts-and-metrics.html#class-assignment"><i class="fa fa-check"></i>Class Assignment</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html"><i class="fa fa-check"></i>Week 4, Class 2: Network Analysis with R</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#network-data-structures"><i class="fa fa-check"></i>Network data structures</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#creating-a-network-object-in-r-from-an-edge-list"><i class="fa fa-check"></i>Creating a Network Object in R from an Edge List</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#import-network-data"><i class="fa fa-check"></i>Import Network Data</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#make-an-edge-list"><i class="fa fa-check"></i>Make an edge list</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#turn-the-edge-list-into-a-tbl_graph"><i class="fa fa-check"></i>Turn the edge list into a tbl_graph</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#calculating-network-metrics"><i class="fa fa-check"></i>Calculating Network Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#global-metrics-1"><i class="fa fa-check"></i>Global metrics</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#node-level-metrics."><i class="fa fa-check"></i>Node-level metrics.</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#summarising-the-network-data"><i class="fa fa-check"></i>Summarising the network data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#joining-additional-data"><i class="fa fa-check"></i>Joining additional data</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#social-network-analysis-with-r"><i class="fa fa-check"></i>Social Network Analysis with R</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#transitivity-triads-structural-balance"><i class="fa fa-check"></i>Transitivity, Triads, structural balance</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#louvain-community-detection-1"><i class="fa fa-check"></i>Louvain community detection</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#reading-for-next-week-1"><i class="fa fa-check"></i>Reading for next week</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html"><i class="fa fa-check"></i>Week 5, Class 1: Visualising Networks with ggraph</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#network-visualisations"><i class="fa fa-check"></i>Network visualisations</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#force-directed-network-visualisations"><i class="fa fa-check"></i>Force-directed network visualisations</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#other-network-visualisations"><i class="fa fa-check"></i>Other Network Visualisations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#network-visualisations-with-r-and-ggraph."><i class="fa fa-check"></i>Network Visualisations with R and ggraph.</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#network-graph-layouts"><i class="fa fa-check"></i>Network Graph Layouts</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#ggraph-and-other-tidyverse-functions"><i class="fa fa-check"></i>Ggraph and other tidyverse functions</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#add-node-labels"><i class="fa fa-check"></i>Add node labels</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#calculating-and-coloring-by-community-detection"><i class="fa fa-check"></i>Calculating and coloring by community detection</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#what-makes-a-good-network-visualisation"><i class="fa fa-check"></i>What makes a good network visualisation?</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#case-study-scientists-and-politicians"><i class="fa fa-check"></i>Case study: Scientists and Politicians</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#conclusions-1"><i class="fa fa-check"></i>Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html"><i class="fa fa-check"></i>Week 5, class 2: Other network types</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#ego-networks"><i class="fa fa-check"></i>Ego Networks</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#case-study-a-spotify-ego-network"><i class="fa fa-check"></i>Case Study: A Spotify Ego Network</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#bipartite-networks-1"><i class="fa fa-check"></i>Bipartite networks</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#co-occurrence-and-co-authorship-networks."><i class="fa fa-check"></i>Co-occurrence and co-authorship networks.</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#a-type-of-co-authorship-publisher-networks"><i class="fa fa-check"></i>A type of co-authorship: publisher networks</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#the-dataset"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#method"><i class="fa fa-check"></i>Method</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#conclusions-2"><i class="fa fa-check"></i>Conclusions</a></li>
<li class="chapter" data-level="" data-path="week-5-class-2-other-network-types.html"><a href="week-5-class-2-other-network-types.html#exercises-2"><i class="fa fa-check"></i>Exercises:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html"><i class="fa fa-check"></i>Week 6, Class 1: Asking and Answering Questions with Networks</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#introduction-4"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#how-to-go-about-tackling-humanities-questions-of-networks"><i class="fa fa-check"></i>How to go about tackling humanities questions of networks?</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#practical-example-estc"><i class="fa fa-check"></i>Practical Example: ESTC</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#conclusions-3"><i class="fa fa-check"></i>Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#practical-example-twitter-and-dealing-with-big-data"><i class="fa fa-check"></i>Practical example: Twitter (and dealing with big data)</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#download-data"><i class="fa fa-check"></i>Download data</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#extend-the-data-model-by-creating-a"><i class="fa fa-check"></i>Extend the data model by creating a</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#basic-network-statistics"><i class="fa fa-check"></i>Basic network statistics</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#node-level-metrics-1"><i class="fa fa-check"></i>Node-level metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#pagerank"><i class="fa fa-check"></i>PageRank</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#some-other-questions-you-might-ask-of-this-data"><i class="fa fa-check"></i>Some other questions you might ask of this data?</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#community-detection"><i class="fa fa-check"></i>Community Detection</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#adding-other-analysis-text-mining"><i class="fa fa-check"></i>Adding other analysis: text mining</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#exporting-the-edge-list-for-gephi."><i class="fa fa-check"></i>Exporting the edge list for Gephi.</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#conclusions-4"><i class="fa fa-check"></i>Conclusions</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#networks-and-regression"><i class="fa fa-check"></i>Networks and regression</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-asking-and-answering-questions-with-networks.html"><a href="week-6-class-1-asking-and-answering-questions-with-networks.html#statistical-approaches-to-networks---ergm-and-soam-rsiena"><i class="fa fa-check"></i>Statistical approaches to networks - ERGM and SOAM (RSiena)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html"><i class="fa fa-check"></i>Week 6, Class 2: Reflections and Pitfalls of Networks</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#what-are-implications-of-networks"><i class="fa fa-check"></i>What are implications of networks?</a></li>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#network-representations"><i class="fa fa-check"></i>Network representations</a></li>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#problems-with-network-representation"><i class="fa fa-check"></i>Problems with network representation</a>
<ul>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#missing-data-1"><i class="fa fa-check"></i>Missing data</a></li>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#specific-problems-with-networks-and-culturalhumanities-data"><i class="fa fa-check"></i>Specific problems with networks and cultural/humanities data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-6-class-2-reflections-and-pitfalls-of-networks.html"><a href="week-6-class-2-reflections-and-pitfalls-of-networks.html#visualisations"><i class="fa fa-check"></i>Visualisations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html"><i class="fa fa-check"></i>Week 7: Final Project</a>
<ul>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#presentation"><i class="fa fa-check"></i>Presentation:</a></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#what-should-the-final-project-look-like"><i class="fa fa-check"></i>What should the final project look like?</a>
<ul>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#practical-steps"><i class="fa fa-check"></i>Practical steps</a></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#project-aim"><i class="fa fa-check"></i>Project Aim</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#reproducible-research"><i class="fa fa-check"></i>Reproducible research</a></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#questions"><i class="fa fa-check"></i>Questions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#final-project-datasets"><i class="fa fa-check"></i>Final Project Datasets</a>
<ul>
<li class="chapter" data-level="" data-path="week-7-final-project.html"><a href="week-7-final-project.html#available-datasets"><i class="fa fa-check"></i>Available datasets</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applying Network Analysis to Humanities</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-4-class-2-network-analysis-with-r" class="section level1 hasAnchor">
<h1>Week 4, Class 2: Network Analysis with R<a href="week-4-class-2-network-analysis-with-r.html#week-4-class-2-network-analysis-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-3" class="section level2 hasAnchor">
<h2>Introduction<a href="week-4-class-2-network-analysis-with-r.html#introduction-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this class, we’ll talk through creating and analysing a network object in R. The network we’ll work with is a sample of correspondence data taken from the British State Papers in the seventeenth century.</p>
</div>
<div id="network-data-structures" class="section level2 hasAnchor">
<h2>Network data structures<a href="week-4-class-2-network-analysis-with-r.html#network-data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Network data comes in a number of forms. Two common ones are adjacency matrices and edge lists. An adjacency matrix is a matrix of rows and columns, one for each node. If there is a link between two nodes, a 1 is put in at that point. If it is a weighted network, the weight can be entered in the correct space. In some cases, your data may be in a format where it is easy to use it as an adjacency matrix.</p>
<p>Adjacency matrices can be easily read into R using <code>igraph</code> and <code>graph_from_adjacency_matrix()</code>.</p>
<p>The other common type is what we will work with in this lesson: an edge list. An edge list is actually also a ‘sparse matrix’.</p>
</div>
<div id="creating-a-network-object-in-r-from-an-edge-list" class="section level2 hasAnchor">
<h2>Creating a Network Object in R from an Edge List<a href="week-4-class-2-network-analysis-with-r.html#creating-a-network-object-in-r-from-an-edge-list" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the easiest data formats to construct a network is an edge list: a simple dataframe with two columns, representing the connections between two nodes, one per row. If the network is directed, generally the ‘Source’ node is on the left side, and the ‘Target’ node on the right. It makes particular sense with correspondence data, which is often stored as records of letters with a ‘from’ and a ‘to’—more or less a ready-made edge list. In a correspondence dataset you might also have multiple sets of each of the edges (multiple letters between the same pair of individuals). This will be added to the edges as a ‘weight’.</p>
<p>We will use three R network libraries to do almost everything network-related, from analysis to visualisation: <code>igraph</code>, <code>tidygraph</code> and <code>ggraph</code>. The goal is to port everything to a format which is easy to work with using existing an established data analysis workflow. That format is known as ‘tidy data’, and it is a way of working with data which is easily transferable across a range of uses. It also means you need to learn very little new programming to do network analysis if you stay within this ‘ecosystem’.</p>
<div id="import-network-data" class="section level3 hasAnchor">
<h3>Import Network Data<a href="week-4-class-2-network-analysis-with-r.html#import-network-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The workflow uses a number of R packages. In the CSC Notebooks environment, these have already been installed and can be loaded using the commands below. If you are doing this on a local machine, you may have to install them first using the command <code>install.packages()</code>, with the package name specified as a string, for example <code>install.packages('igraph')</code>.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="week-4-class-2-network-analysis-with-r.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb158-2"><a href="week-4-class-2-network-analysis-with-r.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb158-3"><a href="week-4-class-2-network-analysis-with-r.html#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span></code></pre></div>
<p>In this class, we’ll use a dataset derived from the English State Papers during the Stuart era (1603-1714). It takes the form of a .csv containing the information on the author, recipient, and date of sending for a small sample of state letters received between 1670 and 1672.</p>
<p>Read the file into R with the <code>read_csv()</code> function from a previous lesson:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="week-4-class-2-network-analysis-with-r.html#cb159-1" aria-hidden="true" tabindex="-1"></a>letters <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;letter_data.csv&quot;</span>, <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="st">&quot;c&quot;</span>))</span>
<span id="cb159-2"><a href="week-4-class-2-network-analysis-with-r.html#cb159-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-3"><a href="week-4-class-2-network-analysis-with-r.html#cb159-3" aria-hidden="true" tabindex="-1"></a>letters</span></code></pre></div>
<pre><code>## # A tibble: 1,374 × 6
##    letter_id from_id                 from_name               to_id to_name date 
##    &lt;chr&gt;     &lt;chr&gt;                   &lt;chr&gt;                   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;
##  1 1         E006019-S012734-T000000 Dr. Ralph Cudworth, Ma… E022… Willia… 1670…
##  2 2         E006019-S012734-T000000 Dr. Ralph Cudworth, Ma… E022… Willia… 1670…
##  3 3         E011771-S014372-T000000 Hyde, Edward            E015… Sir Ed… 1670…
##  4 4         E015103-S043299-T000000 Sir Philip Musgrave     E022… Willia… 1670…
##  5 5         E020134-S040615-T000000 Taylor, Silas           E022… Willia… 1670…
##  6 6         E014743-S041280-T000000 Sir Edward Misselden    E022… Willia… 1670…
##  7 7         E015103-S043299-T000000 Sir Philip Musgrave     E022… Willia… 1670…
##  8 8         E020485-S043979-T000000 Sir Thomas Allin        E022… Willia… 1670…
##  9 9         E020485-S043979-T000000 Sir Thomas Allin        E022… Willia… 1670…
## 10 10        E004654-S006979-T000000 Charles II, King of En… E012… James … 1670…
## # … with 1,364 more rows</code></pre>
<p>The letters dataset is a simple dataframe. Each row represents a letter record, and has a unique ID. Essentially, each row is a record of who the author and recipient of the letter. Each of these senders and recipients also have both a unique ID, and the original name of the letter writer and sender. The unique ID is used because it’s quite likely that the names are not unique, and the network could combine two nodes with the same name together, for example.</p>
</div>
<div id="make-an-edge-list" class="section level3 hasAnchor">
<h3>Make an edge list<a href="week-4-class-2-network-analysis-with-r.html#make-an-edge-list" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is used to construct an edge list. If you have multiple letters between individuals, you can count them and use as a weight in the network, or you can ignore it. This is done with <code>tidyverse</code> commands we learned previously: <code>group_by()</code> and <code>tally()</code>, changing the name of the new column to ‘weight’.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="week-4-class-2-network-analysis-with-r.html#cb161-1" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">=</span> letters <span class="sc">%&gt;%</span> </span>
<span id="cb161-2"><a href="week-4-class-2-network-analysis-with-r.html#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from_id, to_id) <span class="sc">%&gt;%</span> </span>
<span id="cb161-3"><a href="week-4-class-2-network-analysis-with-r.html#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>(<span class="at">name =</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb161-4"><a href="week-4-class-2-network-analysis-with-r.html#cb161-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-5"><a href="week-4-class-2-network-analysis-with-r.html#cb161-5" aria-hidden="true" tabindex="-1"></a>edge_list</span></code></pre></div>
<pre><code>## # A tibble: 364 × 3
## # Groups:   from_id [198]
##    from_id                 to_id                   weight
##    &lt;chr&gt;                   &lt;chr&gt;                    &lt;int&gt;
##  1 E000145-S012650-T000000 E022443-S042999-T000000      1
##  2 E000189-S014115-T000000 E004830-S019312-T000000      4
##  3 E000189-S014115-T000000 E006871-S022202-T000000      1
##  4 E000189-S014115-T000000 E022443-S042999-T000000      1
##  5 E000312-S012741-T000000 E022443-S042999-T000000      2
##  6 E000393-S036175-T000000 E001993-S018912-T000000      1
##  7 E000520-S001769-T000000 E003476-S051213-T000000      1
##  8 E000520-S001769-T000000 E022443-S042999-T000000      1
##  9 E000799-S042396-T000000 E022443-S042999-T000000      1
## 10 E001346-S047404-T000000 E022443-S042999-T000000      1
## # … with 354 more rows</code></pre>
<p>Now you see each unique combination of sender and recipient. If there are multiple letters, this is now signified by a weight of more than one in the weight column. You’ll also notice that the other information (letter IDs and actual names) has disappeared. This is not needed to make the network, but we can bring the name information back later.</p>
</div>
<div id="turn-the-edge-list-into-a-tbl_graph" class="section level3 hasAnchor">
<h3>Turn the edge list into a tbl_graph<a href="week-4-class-2-network-analysis-with-r.html#turn-the-edge-list-into-a-tbl_graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next transform the edge list into a network object called a tbl_graph, using <a href="https://www.data-imaginist.com/2017/introducing-tidygraph/">tidygraph</a>. A tbl_graph is a graph object which can be manipulated using tidyverse grammar. This means you can create a network and then use a range of standard data analysis functions on it as needed.</p>
<p>Use <code>as_tbl_graph()</code> to turn the edge list into a network. The first two columns will be taken as the from and to data, and any additional columns added as attributes. An important option is the <code>directed =</code> argument. This will specify whether the network is directed (the path goes from the first column to the second) or undirected. Because this network is inherently directed (a letter is sent from one person to another), we use <code>directed = TRUE</code>. In many cases, the network will be undirected, and this should be specified using <code>directed = FALSE</code>.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="week-4-class-2-network-analysis-with-r.html#cb163-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="ot">=</span> edge_list <span class="sc">%&gt;%</span> </span>
<span id="cb163-2"><a href="week-4-class-2-network-analysis-with-r.html#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>(<span class="at">directed =</span> T)</span>
<span id="cb163-3"><a href="week-4-class-2-network-analysis-with-r.html#cb163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-4"><a href="week-4-class-2-network-analysis-with-r.html#cb163-4" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # A directed simple graph with 6 components
## #
## # Node Data: 248 × 1 (active)
##   name                   
##   &lt;chr&gt;                  
## 1 E000145-S012650-T000000
## 2 E000189-S014115-T000000
## 3 E000312-S012741-T000000
## 4 E000393-S036175-T000000
## 5 E000520-S001769-T000000
## 6 E000799-S042396-T000000
## # … with 242 more rows
## #
## # Edge Data: 364 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## # … with 361 more rows</code></pre>
<p>The <code>tbl_graph</code> is an object containing two linked dataframes, one for the edges and one for the nodes. The node table is currently a table containing a row for each unique node in the dataframe, with one column, <strong>name</strong>, which is that node’s ID. When we calculate additional node-level metrics, they will be added as additional columns to this node table.</p>
<p>The edges dataframe currently contains three columns: <strong>from</strong>, <strong>to</strong>, and <strong>weight</strong>. The <strong>from</strong> and <strong>to</strong> columns contain the edge information: the first row tells us that there is an edge running from node 1 to node 89. These node numbers are not the node IDs but rather correspond to the order of the node table (or the numbers just to the left of the name column). So this tells us that there is an edge going from the node in position 1 (E00145-S012650-T000000) to that in position 89.</p>
<p>You can access each of the tables using the function <code>activate(nodes)</code> or <code>activate(edges)</code>. The active table is listed first and has the word ‘active’ in the description. Any commands you do (filtering, joining and so forth) will happen on the <em>active</em> table.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="week-4-class-2-network-analysis-with-r.html#cb165-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb165-2"><a href="week-4-class-2-network-analysis-with-r.html#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges)</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # A directed simple graph with 6 components
## #
## # Edge Data: 364 × 3 (active)
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## 4     2    89      1
## 5     3    89      2
## 6     4    10      1
## # … with 358 more rows
## #
## # Node Data: 248 × 1
##   name                   
##   &lt;chr&gt;                  
## 1 E000145-S012650-T000000
## 2 E000189-S014115-T000000
## 3 E000312-S012741-T000000
## # … with 245 more rows</code></pre>
<p>You can use many of the tidyverse commands we learned in the earlier lesson on this object, for example filtering to include only edges with a weight of more than 1:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="week-4-class-2-network-analysis-with-r.html#cb167-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb167-2"><a href="week-4-class-2-network-analysis-with-r.html#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb167-3"><a href="week-4-class-2-network-analysis-with-r.html#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight<span class="sc">&gt;</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 165 edges
## #
## # A directed simple graph with 121 components
## #
## # Edge Data: 165 × 3 (active)
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     2    22      4
## 2     3    89      2
## 3     9    74      2
## 4    10    89      6
## 5    12   154      2
## 6    13   202      2
## # … with 159 more rows
## #
## # Node Data: 248 × 1
##   name                   
##   &lt;chr&gt;                  
## 1 E000145-S012650-T000000
## 2 E000189-S014115-T000000
## 3 E000312-S012741-T000000
## # … with 245 more rows</code></pre>
</div>
</div>
<div id="calculating-network-metrics" class="section level2 hasAnchor">
<h2>Calculating Network Metrics<a href="week-4-class-2-network-analysis-with-r.html#calculating-network-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="global-metrics-1" class="section level3 hasAnchor">
<h3>Global metrics<a href="week-4-class-2-network-analysis-with-r.html#global-metrics-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first thing we want to do with this network is to calculate some global network statistics. Because the outputs to these are generally a single number, we don’t need to worry about storing them in a table, as we’ll do with the node-level metrics later. To calculate these metrics, generally just pass the network to a relevant function. These metrics were covered in more detail in the previous class.</p>
<div id="density-1" class="section level4 hasAnchor">
<h4>Density<a href="week-4-class-2-network-analysis-with-r.html#density-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>(the number of links present out of all possible links):</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="week-4-class-2-network-analysis-with-r.html#cb169-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">graph.density</span>()</span></code></pre></div>
<pre><code>## [1] 0.005942275</code></pre>
</div>
<div id="average-path-length-1" class="section level4 hasAnchor">
<h4>Average path length<a href="week-4-class-2-network-analysis-with-r.html#average-path-length-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>(the average number of hops between every pair of nodes in the network):</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="week-4-class-2-network-analysis-with-r.html#cb171-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">average.path.length</span>()</span></code></pre></div>
<pre><code>## [1] 11.04997</code></pre>
</div>
<div id="clustering-coefficient-1" class="section level4 hasAnchor">
<h4>Clustering coefficient:<a href="week-4-class-2-network-analysis-with-r.html#clustering-coefficient-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Because there are a number of ways to calculate clustering in a network, a method needs to be specified. The clustering coefficient is also known as <em>transitivity</em>, and it is defined as the ratio of completed triangles and connected triples in the graph. This measurement can be <em>global</em> (which counts the overall ratio) or <em>local</em> (which counts the individual ratio for each node). Because we want the global measurement, specific this with the <code>type =</code> argument.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="week-4-class-2-network-analysis-with-r.html#cb173-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">transitivity</span>(<span class="at">type =</span> <span class="st">&#39;global&#39;</span>)</span></code></pre></div>
<pre><code>## [1] 0.02453653</code></pre>
</div>
</div>
<div id="node-level-metrics." class="section level3 hasAnchor">
<h3>Node-level metrics.<a href="week-4-class-2-network-analysis-with-r.html#node-level-metrics." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a number of ways to calculate node-level metrics (these are things like degree, betweenness as explained in the previous class). For example, you can use igraph functions to calculate the degree of single node or group of nodes. The following code returns the degree for the node with the ID <code>E004654-S006979-T000000</code> (King Charles II of England). You can return to the original dataset to find the relevant IDs for a node of interest. The argument <code>mode =</code> specifies the type of degree: <code>in</code>, <code>out</code>, or <code>all</code>, as we learned in the previous lesson.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="week-4-class-2-network-analysis-with-r.html#cb175-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">degree</span>(<span class="at">v =</span> <span class="st">&#39;E004654-S006979-T000000&#39;</span>, <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>) </span></code></pre></div>
<pre><code>## E004654-S006979-T000000 
##                      52</code></pre>
<p>You can also look up the degree of multiple IDs by passing them as a vector, using <code>c()</code>.</p>
<p>`</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="week-4-class-2-network-analysis-with-r.html#cb177-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">degree</span>(<span class="at">v =</span> <span class="fu">c</span>(<span class="st">&#39;E004654-S006979-T000000&#39;</span>,<span class="st">&#39;E006019-S012734-T000000&#39;</span>), <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>) </span></code></pre></div>
<pre><code>## E004654-S006979-T000000 E006019-S012734-T000000 
##                      52                       1</code></pre>
<div id="adding-node-level-metrics-as-a-column-with-tidygraph." class="section level4 hasAnchor">
<h4>Adding node-level metrics as a column with tidygraph.<a href="week-4-class-2-network-analysis-with-r.html#adding-node-level-metrics-as-a-column-with-tidygraph." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Remember that our tidygraph object is made up of two dataframes, one of nodes and one of edges? We can use the format to add node-level metrics to the node dataframe as additional columns, making them easy to analyse using R later. To do this, we use a function called <code>mutate()</code>. Mutate creates a new column containing the value from some calculation, which is performed on each row in the dataset.</p>
<p>Assign the name <code>degree</code> to the new column with <code>degree =</code>. The column should contain the total degree score for each node. This is done using the function <code>centrality_degree()</code>. With the two additional arguments in this function, specify the mode (in, out, or all) and, if a weighted degree score is desired, the column to be used as weights.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="week-4-class-2-network-analysis-with-r.html#cb179-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb179-2"><a href="week-4-class-2-network-analysis-with-r.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> <span class="co"># make sure the nodes table is active</span></span>
<span id="cb179-3"><a href="week-4-class-2-network-analysis-with-r.html#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;all&#39;</span>, <span class="at">weights =</span> weight))</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # A directed simple graph with 6 components
## #
## # Node Data: 248 × 2 (active)
##   name                    degree
##   &lt;chr&gt;                    &lt;dbl&gt;
## 1 E000145-S012650-T000000      1
## 2 E000189-S014115-T000000     21
## 3 E000312-S012741-T000000      6
## 4 E000393-S036175-T000000      3
## 5 E000520-S001769-T000000      2
## 6 E000799-S042396-T000000      1
## # … with 242 more rows
## #
## # Edge Data: 364 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## # … with 361 more rows</code></pre>
<p>The data format allows you to use dplyr pipes <code>%&gt;%</code> to perform one calculation on the data, then pass that new dataframe along to the next function. Here we calculate the degree scores first, then filter to include only nodes with a degree score over two:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="week-4-class-2-network-analysis-with-r.html#cb181-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb181-2"><a href="week-4-class-2-network-analysis-with-r.html#cb181-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb181-3"><a href="week-4-class-2-network-analysis-with-r.html#cb181-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb181-4"><a href="week-4-class-2-network-analysis-with-r.html#cb181-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(degree <span class="sc">&gt;</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tbl_graph: 51 nodes and 124 edges
## #
## # A directed simple graph with 2 components
## #
## # Node Data: 51 × 2 (active)
##   name                    degree
##   &lt;chr&gt;                    &lt;dbl&gt;
## 1 E000189-S014115-T000000      8
## 2 E001993-S018912-T000000     37
## 3 E002622-S014197-T000000     10
## 4 E003476-S051213-T000000      6
## 5 E003494                      3
## 6 E004454-S051301-T000000      3
## # … with 45 more rows
## #
## # Edge Data: 124 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1     8      4
## 2     1    29      1
## 3     2     7      1
## # … with 121 more rows</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb183-1"><a href="week-4-class-2-network-analysis-with-r.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.infobox</span> {</span>
<span id="cb183-2"><a href="week-4-class-2-network-analysis-with-r.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">em</span> <span class="dv">1</span><span class="dt">em</span> <span class="dv">1</span><span class="dt">em</span> <span class="dv">1</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb183-3"><a href="week-4-class-2-network-analysis-with-r.html#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">margin-bottom</span>: <span class="dv">2</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb183-4"><a href="week-4-class-2-network-analysis-with-r.html#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">orange</span><span class="op">;</span></span>
<span id="cb183-5"><a href="week-4-class-2-network-analysis-with-r.html#cb183-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb183-6"><a href="week-4-class-2-network-analysis-with-r.html#cb183-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">#f5f5f5</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">center</span>/<span class="dv">3</span><span class="dt">em</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb183-7"><a href="week-4-class-2-network-analysis-with-r.html#cb183-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<style type="text/css">
.infobox {
  padding: 1em 1em 1em 1em;
  margin-bottom: 2px;
  border: 2px solid orange;
  border-radius: 10px;
  background: #f5f5f5 5px center/3em no-repeat;
}
</style>
<div class="infobox">
<p>Note that the calculations are done one at a time. What difference would it make to your results if you filtered (for example based on a set of dates) and then calculated degree, rather than the other way around?</p>
</div>
</div>
</div>
<div id="summarising-the-network-data" class="section level3 hasAnchor">
<h3>Summarising the network data<a href="week-4-class-2-network-analysis-with-r.html#summarising-the-network-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To work with your new network metrics, the data can be outputted to a standard R dataframe. Create a new dataframe by doing this, using the tidyverse function for creating dataframes, <code>as_tibble()</code>:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="week-4-class-2-network-analysis-with-r.html#cb184-1" aria-hidden="true" tabindex="-1"></a>network_metrics_df <span class="ot">=</span> sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb184-2"><a href="week-4-class-2-network-analysis-with-r.html#cb184-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> <span class="co"># make sure correct table is active</span></span>
<span id="cb184-3"><a href="week-4-class-2-network-analysis-with-r.html#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">weights =</span> weight, <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>)) <span class="sc">%&gt;%</span> <span class="co"># calculate degree</span></span>
<span id="cb184-4"><a href="week-4-class-2-network-analysis-with-r.html#cb184-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">between =</span> <span class="fu">centrality_betweenness</span>(<span class="at">weights =</span> weight,<span class="at">directed =</span> F)) <span class="sc">%&gt;%</span>  <span class="co"># calculate betweenness centrality</span></span>
<span id="cb184-5"><a href="week-4-class-2-network-analysis-with-r.html#cb184-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="co"># turn the nodes table into a plain dataframe</span></span></code></pre></div>
<pre><code>## Warning in betweenness(graph = graph, v = V(graph), directed = directed, :
## &#39;nobigint&#39; is deprecated since igraph 1.3 and will be removed in igraph 1.4</code></pre>
<p>This new table can be sorted, totals counted, and so forth:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="week-4-class-2-network-analysis-with-r.html#cb186-1" aria-hidden="true" tabindex="-1"></a>network_metrics_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(degree))</span></code></pre></div>
<pre><code>## # A tibble: 248 × 3
##    name                    degree between
##    &lt;chr&gt;                    &lt;dbl&gt;   &lt;dbl&gt;
##  1 E004830-S019312-T000000    604   8048.
##  2 E022443-S042999-T000000    270  13404.
##  3 E600059-S012260-T000000    161   3223.
##  4 E013473                    150    235 
##  5 E004654-S006979-T000000     91  11774.
##  6 E001993-S018912-T000000     72   6663.
##  7 E903376-S024822-T000000     57   1623 
##  8 E008063                     51      0 
##  9 E002620-S051125-T000000     47      0 
## 10 E906453-S026312-T000000     47      0 
## # … with 238 more rows</code></pre>
</div>
</div>
<div id="joining-additional-data" class="section level2 hasAnchor">
<h2>Joining additional data<a href="week-4-class-2-network-analysis-with-r.html#joining-additional-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The value of working with a data model and tidygraph is that we can merge additional tables of data attributes to our nodes or edges. Earlier, we explained how important it is that every node in your data has a unique ID. The downside of this, particularly for humanities research, is that it’s not easy to see who or what is behind a particular node. This can be solved by using a <code>join</code> command.</p>
<p>In a separate table, we have a dataset of attributes about this set of nodes, including place and dates of birth and death, and gender. Using the <code>join()</code> commands, we can merge this table to the network data, and use it to sort, filter (and later visualise) the data:</p>
<p>First, load the table of data using <code>read_csv</code>:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="week-4-class-2-network-analysis-with-r.html#cb188-1" aria-hidden="true" tabindex="-1"></a>node_attributes <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&#39;node_attributes.csv&#39;</span>)</span></code></pre></div>
<pre><code>## Rows: 248 Columns: 13
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (11): name, main_name, all_names, links, gender, roles_titles, wikidata_...
## dbl  (2): birth_year, death_year
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="week-4-class-2-network-analysis-with-r.html#cb190-1" aria-hidden="true" tabindex="-1"></a>node_attributes</span></code></pre></div>
<pre><code>## # A tibble: 248 × 13
##    name     main_…¹ all_n…² links birth…³ death…⁴ gender roles…⁵ wikid…⁶ occup…⁷
##    &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1 E006019… Dr. Ra… Dr. Ra… http…    1617    1688 male   theolo… http:/… theolo…
##  2 E011771… Hyde, … Edward… http…    1609    1674 male   judge;… http:/… judge;…
##  3 E015103… Sir Ph… Sir Ph… http…    1607    1678 male   politi… http:/… politi…
##  4 E020134… Taylor… Silas … http…    1624    1678 male   compos… http:/… compos…
##  5 E014743… Sir Ed… Sir Ed… http…    1608    1654 male   econom… http:/… econom…
##  6 E020485… Sir Th… Sir Th… http…    1612    1685 male   naval … http:/… naval …
##  7 E004654… Charle… Charle… http…    1630    1685 male   sovere… http:/… sovere…
##  8 E007992… Heneag… Heneag… http…    1628    1689 male   diplom… http:/… diplom…
##  9 E007902… John F… John F… http…    1625    1686 male   priest  http:/… priest 
## 10 S035587  Philad… Philad… http…    1612    1665 female politi… http:/… politi…
## # … with 238 more rows, 3 more variables: place_of_birth &lt;chr&gt;,
## #   place_of_death &lt;chr&gt;, politician &lt;chr&gt;, and abbreviated variable names
## #   ¹​main_name, ²​all_names, ³​birth_year, ⁴​death_year, ⁵​roles_titles,
## #   ⁶​wikidata_item, ⁷​occupations</code></pre>
<p>This table contains further information about the nodes, each of which are identified by their unique ID. This can be joined to the network object using <code>join()</code> commands:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="week-4-class-2-network-analysis-with-r.html#cb192-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb192-2"><a href="week-4-class-2-network-analysis-with-r.html#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(node_attributes, <span class="at">by =</span> <span class="st">&#39;name&#39;</span>)</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # A directed simple graph with 6 components
## #
## # Node Data: 248 × 13 (active)
##   name  main_n… all_na… links birth_… death_… gender roles_… wikida… occupa…
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
## 1 E000… Dr. La… Dr. La… http…    1632    1703 male   chapla… http:/… chapla…
## 2 E000… Edward… Edward… http…    1638    1697 male   astron… http:/… astron…
## 3 E000… Dr. Ri… Dr. Ri… http…    1619    1681 male   priest  http:/… priest 
## 4 E000… Solms-… Prince… http…    1602    1675 female art co… http:/… art co…
## 5 E000… Arthur… Arthur… http…    1614    1686 male   politi… http:/… politi…
## 6 E000… Sir Jo… Sir Jo… http…    1603    1671 male   politi… http:/… politi…
## # … with 242 more rows, and 3 more variables: place_of_birth &lt;chr&gt;,
## #   place_of_death &lt;chr&gt;, politician &lt;chr&gt;
## #
## # Edge Data: 364 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## # … with 361 more rows</code></pre>
<p>Using this approach you can now make subsets of the network, and calculate global or node-level statistics for these. This example would return a network containing only individuals with politician listed as one of their occupations, for example:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="week-4-class-2-network-analysis-with-r.html#cb194-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb194-2"><a href="week-4-class-2-network-analysis-with-r.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(node_attributes, <span class="at">by =</span> <span class="st">&#39;name&#39;</span>) <span class="sc">%&gt;%</span> <span class="co"># first join the attributes table again</span></span>
<span id="cb194-3"><a href="week-4-class-2-network-analysis-with-r.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(occupations, <span class="st">&quot;politician&quot;</span>)) <span class="sc">%&gt;%</span> <span class="co"># returns any row with the string &#39;politician&#39; in it</span></span>
<span id="cb194-4"><a href="week-4-class-2-network-analysis-with-r.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">weights =</span> weight, <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>)) <span class="co"># calculate network metrics on this new subset of the data.</span></span></code></pre></div>
<pre><code>## # A tbl_graph: 94 nodes and 106 edges
## #
## # A directed simple graph with 18 components
## #
## # Node Data: 94 × 14 (active)
##   name  main_n… all_na… links birth_… death_… gender roles_… wikida… occupa…
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
## 1 E000… Arthur… Arthur… http…    1614    1686 male   politi… http:/… politi…
## 2 E000… Sir Jo… Sir Jo… http…    1603    1671 male   politi… http:/… politi…
## 3 E001… Henry … Henry … http…    1618    1685 male   politi… http:/… politi…
## 4 E002… Willia… Willia… http…    1649    1717 male   politi… http:/… politi…
## 5 E002… Edward… Edward… http…    1623    1683 male   politi… http:/… politi…
## 6 E002… Roger … Roger … http…    1621    1679 male   writer… http:/… writer…
## # … with 88 more rows, and 4 more variables: place_of_birth &lt;chr&gt;,
## #   place_of_death &lt;chr&gt;, politician &lt;chr&gt;, degree &lt;dbl&gt;
## #
## # Edge Data: 106 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    33      1
## 2     2    33      1
## 3     3    10      1
## # … with 103 more rows</code></pre>
<details>
<p><br></p>
<summary>
Node attributes could be added and used to filter at several steps: before the network is created, and before or after network metrics are calculated. What differences might these make?
</summary>
<p>Make sure you know at which stage you are calculating network metrics. If you calculate them after filtering, you’ll get a set of metrics based on a new, subsetted network.</p>
</details>
<p><br></p>
<p>This new table can be outputted as a dataframe, as above. Here we use this to calculate the highest-degree nodes from the ‘polticians network’, keep their real names, and sort in descending order of degree:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="week-4-class-2-network-analysis-with-r.html#cb196-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb196-2"><a href="week-4-class-2-network-analysis-with-r.html#cb196-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(node_attributes, <span class="at">by =</span> <span class="st">&#39;name&#39;</span>) <span class="sc">%&gt;%</span> <span class="co"># first join the attributes table again</span></span>
<span id="cb196-3"><a href="week-4-class-2-network-analysis-with-r.html#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(occupations, <span class="st">&quot;politician&quot;</span>)) <span class="sc">%&gt;%</span> <span class="co"># returns any row containing the string &#39;politician&#39;</span></span>
<span id="cb196-4"><a href="week-4-class-2-network-analysis-with-r.html#cb196-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">weights =</span> weight, <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>))  <span class="sc">%&gt;%</span>   <span class="co"># calculate network metrics on this new subset of the data.</span></span>
<span id="cb196-5"><a href="week-4-class-2-network-analysis-with-r.html#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb196-6"><a href="week-4-class-2-network-analysis-with-r.html#cb196-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(degree)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(name, main_name, degree)</span></code></pre></div>
<pre><code>## # A tibble: 94 × 3
##    name                    main_name                                      degree
##    &lt;chr&gt;                   &lt;chr&gt;                                           &lt;dbl&gt;
##  1 E022443-S042999-T000000 Williamson, Joseph (Sir)                          174
##  2 E001993-S018912-T000000 Henry Bennet, Earl of Arlington                    54
##  3 E004654-S006979-T000000 Charles II, King of England, Scotland, and Ir…     53
##  4 E002620-S051125-T000000 William Blathwaite                                 47
##  5 E002622-S014197-T000000 Edward Conway, Earl of Conway                      30
##  6 S016294                 Francis, Lord Aungier                              28
##  7 E903376-S024822-T000000 Witt, Johan de                                     28
##  8 S047442                 Thomas Belasyse, Earl of Fauconberg                26
##  9 E921955-S041743-T000000 Sir George Rawdon                                  25
## 10 E021031-S049939-T000000 Van Beuningen                                      21
## # … with 84 more rows</code></pre>
</div>
<div id="social-network-analysis-with-r" class="section level2 hasAnchor">
<h2>Social Network Analysis with R<a href="week-4-class-2-network-analysis-with-r.html#social-network-analysis-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This last part goes through some of the functions which are more related to the ‘social network analysis’. Many of these are accessed directly through the package <code>igraph</code>.</p>
<div id="transitivity-triads-structural-balance" class="section level3 hasAnchor">
<h3>Transitivity, Triads, structural balance<a href="week-4-class-2-network-analysis-with-r.html#transitivity-triads-structural-balance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we learned in the last lesson, counting the ratio of completed triangles in a network is a good way to understand its structure. This ratio is known as the <strong>clustering coefficient</strong>, and there are two types: <strong>global</strong>, which measures the ratio of complete and not complete triangles in the entire network, and <strong>local</strong>, which measures the complete triangles for each individual node. This measurement is also known as <strong>transitivity</strong>.</p>
<p>Use the following command to calculate the global clustering, or transitivity of the network. It returns a single number, which is just the ratio of completed triangles to the total possible number of triangles in the graph:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="week-4-class-2-network-analysis-with-r.html#cb198-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">transitivity</span>(<span class="at">type =</span> <span class="st">&#39;global&#39;</span>)</span></code></pre></div>
<pre><code>## [1] 0.02453653</code></pre>
<p>Use the following to measure the local clustering coefficient for each node in the graph. It returns a vector of numbers, one for each node:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="week-4-class-2-network-analysis-with-r.html#cb200-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">transitivity</span>(<span class="at">type =</span> <span class="st">&#39;local&#39;</span>) </span></code></pre></div>
<pre><code>##   [1]         NaN 0.095238095 1.000000000 1.000000000 0.000000000         NaN
##   [7]         NaN         NaN         NaN 0.030252101         NaN 0.000000000
##  [13]         NaN         NaN         NaN 0.100000000 0.000000000 0.000000000
##  [19]         NaN 1.000000000 0.020390071 0.010796221         NaN 0.333333333
##  [25] 1.000000000 0.000000000 1.000000000         NaN         NaN         NaN
##  [31]         NaN 0.166666667         NaN         NaN 0.000000000         NaN
##  [37]         NaN 0.333333333 1.000000000         NaN         NaN         NaN
##  [43] 0.000000000         NaN 0.025000000         NaN         NaN 0.000000000
##  [49] 0.200000000         NaN 0.000000000 1.000000000         NaN 0.000000000
##  [55] 0.333333333         NaN         NaN         NaN 0.333333333         NaN
##  [61] 0.000000000         NaN 0.000000000         NaN         NaN         NaN
##  [67]         NaN         NaN         NaN         NaN         NaN 0.500000000
##  [73] 1.000000000 0.142857143 1.000000000         NaN 0.000000000         NaN
##  [79]         NaN         NaN         NaN         NaN         NaN         NaN
##  [85] 0.000000000 1.000000000 0.000000000 0.000000000 0.009937888         NaN
##  [91] 0.000000000         NaN 0.000000000 0.333333333 1.000000000         NaN
##  [97]         NaN         NaN         NaN         NaN         NaN 0.000000000
## [103]         NaN 1.000000000 0.000000000 0.090909091 0.333333333 1.000000000
## [109] 0.333333333 0.000000000         NaN 0.000000000         NaN         NaN
## [115]         NaN         NaN         NaN         NaN 0.000000000         NaN
## [121]         NaN         NaN         NaN         NaN         NaN         NaN
## [127]         NaN         NaN 0.000000000         NaN         NaN         NaN
## [133] 1.000000000         NaN         NaN         NaN 1.000000000         NaN
## [139]         NaN         NaN         NaN         NaN         NaN 1.000000000
## [145]         NaN         NaN         NaN         NaN         NaN         NaN
## [151] 0.000000000 0.000000000         NaN 0.000000000         NaN         NaN
## [157]         NaN         NaN 0.000000000         NaN 1.000000000         NaN
## [163]         NaN         NaN         NaN         NaN         NaN 1.000000000
## [169] 1.000000000         NaN         NaN         NaN         NaN         NaN
## [175]         NaN 1.000000000 0.333333333         NaN         NaN         NaN
## [181]         NaN         NaN 0.000000000         NaN         NaN 0.500000000
## [187] 1.000000000         NaN         NaN         NaN         NaN         NaN
## [193] 1.000000000 1.000000000 1.000000000         NaN         NaN         NaN
## [199]         NaN         NaN 0.035714286         NaN         NaN         NaN
## [205] 0.000000000         NaN         NaN         NaN         NaN 0.000000000
## [211]         NaN         NaN         NaN         NaN         NaN         NaN
## [217]         NaN         NaN         NaN         NaN         NaN         NaN
## [223] 0.000000000         NaN         NaN         NaN         NaN         NaN
## [229]         NaN         NaN         NaN         NaN         NaN         NaN
## [235]         NaN 0.333333333 0.000000000         NaN         NaN         NaN
## [241]         NaN         NaN         NaN         NaN         NaN         NaN
## [247]         NaN         NaN</code></pre>
<p>Anoter related measurement is the average local clustering, calculated using the following:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="week-4-class-2-network-analysis-with-r.html#cb202-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">transitivity</span>(<span class="at">type =</span> <span class="st">&#39;average&#39;</span>) </span></code></pre></div>
<pre><code>## [1] 0.361597</code></pre>
<p>We can also calculate the total reciprocity of a graph (the proportion of links which are reciprocated):</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="week-4-class-2-network-analysis-with-r.html#cb204-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">reciprocity</span>()</span></code></pre></div>
<pre><code>## [1] 0.2912088</code></pre>
<p>We can also calculate the ‘triad census’, the number of each type of triad in a directed network. First, run the <code>triad_census()</code> function, and turn it into a dataframe with one column. Next add the correct triad codes as a second column.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="week-4-class-2-network-analysis-with-r.html#cb206-1" aria-hidden="true" tabindex="-1"></a>census <span class="ot">=</span> sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">triad_census</span>() <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb206-2"><a href="week-4-class-2-network-analysis-with-r.html#cb206-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-3"><a href="week-4-class-2-network-analysis-with-r.html#cb206-3" aria-hidden="true" tabindex="-1"></a>census<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;003&quot;</span>,<span class="st">&quot;012&quot;</span>,<span class="st">&quot;102&quot;</span>,<span class="st">&quot;021D&quot;</span>,<span class="st">&quot;021U&quot;</span>,<span class="st">&quot;021C&quot;</span>,<span class="st">&quot;111D&quot;</span>,<span class="st">&quot;111U&quot;</span>,</span>
<span id="cb206-4"><a href="week-4-class-2-network-analysis-with-r.html#cb206-4" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;030T&quot;</span>,<span class="st">&quot;030C&quot;</span>,<span class="st">&quot;201&quot;</span>,<span class="st">&quot;120D&quot;</span>,<span class="st">&quot;120U&quot;</span>,<span class="st">&quot;120C&quot;</span>,<span class="st">&quot;210&quot;</span>,<span class="st">&quot;300&quot;</span>)</span>
<span id="cb206-5"><a href="week-4-class-2-network-analysis-with-r.html#cb206-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-6"><a href="week-4-class-2-network-analysis-with-r.html#cb206-6" aria-hidden="true" tabindex="-1"></a>census</span></code></pre></div>
<pre><code>## # A tibble: 16 × 2
##      value type 
##      &lt;dbl&gt; &lt;chr&gt;
##  1 2440447 003  
##  2   54274 012  
##  3   11363 102  
##  4     550 021D 
##  5    2892 021U 
##  6     653 021C 
##  7     636 111D 
##  8     255 111U 
##  9      30 030T 
## 10       3 030C 
## 11     381 201  
## 12       0 120D 
## 13       4 120U 
## 14       2 120C 
## 15       2 210  
## 16       4 300</code></pre>
<p>You can now connect these codes to the triad diagrams from the last chapter, and use them to infer things about the structure and formation of the network.</p>
<details>
<summary>
Imagine that this is a complete network. Why, for example, might 021U (A and B both send a letter to C, but there’s not reciprocation, and they are not connected to each other) be such a common triad?
</summary>
<p>The answer lies in the origin of this network, as a letter archive. Because a letter archive contains mostly incoming letters to an ego node, many of the triads are pairs of nodes who both have an incoming connection to one of these ego nodes, but are not themselves connected.</p>
</details>
<p><br></p>
<p>Another set of metrics are to do with groups found in a network. First, components. A component is a group of nodes which are connected together through a path in the network. The <code>components()</code> function returns a list which includes a named vector with a component number for each node, along with the number of nodes in each component, and the total number of components. Looking at this list with <code>glimpse</code> tells us that there are six components, the largest being 237 nodes and the smallest has 2.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="week-4-class-2-network-analysis-with-r.html#cb208-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> igraph<span class="sc">::</span><span class="fu">components</span>() <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## List of 3
##  $ membership: Named num [1:248] 1 1 1 1 1 1 1 1 1 1 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:248] &quot;E000145-S012650-T000000&quot; &quot;E000189-S014115-T000000&quot; &quot;E000312-S012741-T000000&quot; &quot;E000393-S036175-T000000&quot; ...
##  $ csize     : num [1:6] 237 2 3 2 2 2
##  $ no        : int 6</code></pre>
<p>Another global metric we can calculate is the number of <strong>cliques</strong> in a network. A clique is a fully connected set of nodes. We can calculate the total number of cliques with <code>clique_num</code>:</p>
<pre><code>## [1] 4</code></pre>
</div>
</div>
<div id="louvain-community-detection-1" class="section level2 hasAnchor">
<h2>Louvain community detection<a href="week-4-class-2-network-analysis-with-r.html#louvain-community-detection-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Another way to look at groups in networks is to use community detection. As explained in the previous chapter, community detection attempts to find groups of nodes which are more connected to each other than they are to nodes outside the group. Unlike components or cliques, communities can be found using a number of methods. Here, we’ll use the Louvain algorithm, which was introduced in the previous lesson. To make it easy to use the results, we’ll calculate the community for each node using tidygraph. This particular implementation of the algorithm only works for undirected graphs, so we have to create our network again from scratch, this time specifying that it’s <strong>undirected</strong>.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="week-4-class-2-network-analysis-with-r.html#cb211-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph_u <span class="ot">=</span> edge_list <span class="sc">%&gt;%</span> </span>
<span id="cb211-2"><a href="week-4-class-2-network-analysis-with-r.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>(<span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb211-3"><a href="week-4-class-2-network-analysis-with-r.html#cb211-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-4"><a href="week-4-class-2-network-analysis-with-r.html#cb211-4" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph_u <span class="sc">%&gt;%</span> </span>
<span id="cb211-5"><a href="week-4-class-2-network-analysis-with-r.html#cb211-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">group_louvain</span>())</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # An undirected multigraph with 6 components
## #
## # Node Data: 248 × 2 (active)
##   name                    group
##   &lt;chr&gt;                   &lt;int&gt;
## 1 E000145-S012650-T000000     1
## 2 E000189-S014115-T000000     2
## 3 E000312-S012741-T000000     3
## 4 E000393-S036175-T000000     5
## 5 E000520-S001769-T000000     7
## 6 E000799-S042396-T000000     1
## # … with 242 more rows
## #
## # Edge Data: 364 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## # … with 361 more rows</code></pre>
<p>By turning this information into a dataframe, we can get some basic statistics on the groups. By adding this information to the node information we collected earlier, we can get a summary of the average degree and betweenness scores for each of the detected communities:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="week-4-class-2-network-analysis-with-r.html#cb213-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph_u <span class="sc">%&gt;%</span> </span>
<span id="cb213-2"><a href="week-4-class-2-network-analysis-with-r.html#cb213-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">group_louvain</span>())<span class="sc">%&gt;%</span> </span>
<span id="cb213-3"><a href="week-4-class-2-network-analysis-with-r.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> <span class="co"># make sure correct table is active</span></span>
<span id="cb213-4"><a href="week-4-class-2-network-analysis-with-r.html#cb213-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">weights =</span> weight, <span class="at">mode =</span> <span class="st">&#39;all&#39;</span>)) <span class="sc">%&gt;%</span> <span class="co"># calculate degree</span></span>
<span id="cb213-5"><a href="week-4-class-2-network-analysis-with-r.html#cb213-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">between =</span> <span class="fu">centrality_betweenness</span>(<span class="at">weights =</span> weight,<span class="at">directed =</span> F)) <span class="sc">%&gt;%</span>  <span class="co"># calculate betweenness centrality</span></span>
<span id="cb213-6"><a href="week-4-class-2-network-analysis-with-r.html#cb213-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()  <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb213-7"><a href="week-4-class-2-network-analysis-with-r.html#cb213-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_degree =</span> <span class="fu">mean</span>(degree,<span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">mean_between =</span> <span class="fu">mean</span>(between, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">nodes =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb213-8"><a href="week-4-class-2-network-analysis-with-r.html#cb213-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>name, <span class="at">scales =</span> <span class="st">&#39;free&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-120-1.png" width="672" /></p>
</div>
<div id="reading-for-next-week-1" class="section level2 hasAnchor">
<h2>Reading for next week<a href="week-4-class-2-network-analysis-with-r.html#reading-for-next-week-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Week 4:</strong> Ahnert et. al. (2021). <em>The Network Turn: Changing Perspectives in the Humanities</em> (Elements in Publishing and Book Culture). <strong>Chapter 5, 'Quantifying Culture' (<a href="https://www.cambridge.org/core/elements/network-turn/CC38F2EA9F51A6D1AFCB7E005218BBE5" class="uri">https://www.cambridge.org/core/elements/network-turn/CC38F2EA9F51A6D1AFCB7E005218BBE5</a>)</strong></p>
<p>Questions:</p>
<ul>
<li></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-4-class-1-network-concepts-and-metrics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-5-class-1-visualising-networks-with-ggraph.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/4-2-networks-with-r_nb.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
