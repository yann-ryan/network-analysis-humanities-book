<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 5, Class 1: Visualising Networks with ggraph | Applying Network Analysis to Humanities</title>
  <meta name="description" content="Week 5, Class 1: Visualising Networks with ggraph | Applying Network Analysis to Humanities" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 5, Class 1: Visualising Networks with ggraph | Applying Network Analysis to Humanities" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="yann-ryan/network-analysis-humanities-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 5, Class 1: Visualising Networks with ggraph | Applying Network Analysis to Humanities" />
  
  
  

<meta name="author" content="Yann Ryan, Iiro Tihonen" />


<meta name="date" content="2022-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-4-class-2-network-analysis-with-r.html"/>
<link rel="next" href="week-5-class-2-visualising-with-gephi.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Network Analysis Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Book</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html"><i class="fa fa-check"></i>Week 1, class 1: Course Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#how-to-use-this-book-and-follow-the-course."><i class="fa fa-check"></i>How to use this book and follow the course.</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#what-do-we-mean-by-a-network"><i class="fa fa-check"></i>What do we mean by a ‘network’?</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#graph-theory"><i class="fa fa-check"></i>Graph Theory</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#why-use-networks-in-humanities"><i class="fa fa-check"></i>Why use networks in humanities?</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#network-basics"><i class="fa fa-check"></i>Network Basics</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#nodes-and-edges"><i class="fa fa-check"></i>Nodes and Edges</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#edge-weights"><i class="fa fa-check"></i>Edge weights</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#edge-direction"><i class="fa fa-check"></i>Edge direction</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#weighted-and-directed"><i class="fa fa-check"></i>Weighted and directed</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#different-network-types"><i class="fa fa-check"></i>Different Network Types</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#bipartite-networks"><i class="fa fa-check"></i>Bipartite networks</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#multigraphs"><i class="fa fa-check"></i>Multigraphs</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#hypergraphs"><i class="fa fa-check"></i>Hypergraphs</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#spatial-networks"><i class="fa fa-check"></i>Spatial networks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#from-bridges-to-social-networks"><i class="fa fa-check"></i>From Bridges to Social Networks…</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#the-strength-of-weak-ties"><i class="fa fa-check"></i>The Strength of Weak Ties</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#its-a-small-world"><i class="fa fa-check"></i>It’s a Small World</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#the-new-science-of-networks"><i class="fa fa-check"></i>The ‘New’ Science of Networks</a></li>
<li class="chapter" data-level="" data-path="week-1-class-1-course-introduction.html"><a href="week-1-class-1-course-introduction.html#conclusion"><i class="fa fa-check"></i>Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><i class="fa fa-check"></i>Week 1, Class 2: Introduction to R and the Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#r-and-r-studio"><i class="fa fa-check"></i>R and R-Studio</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#logging-into-csc-notebooks-and-opening-a-notebook."><i class="fa fa-check"></i>Logging into CSC notebooks and opening a notebook.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#using-r"><i class="fa fa-check"></i>Using R</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#base-r."><i class="fa fa-check"></i>‘Base’ R.</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#basic-r-data-types."><i class="fa fa-check"></i>Basic R data types.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#tidyverse"><i class="fa fa-check"></i>Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#select-pull"><i class="fa fa-check"></i>select(), pull()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#group_by-tally-summarise"><i class="fa fa-check"></i>group_by(), tally(), summarise()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#filter"><i class="fa fa-check"></i>filter()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#sort-arrange"><i class="fa fa-check"></i>sort(), arrange()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#left_join-inner_join-anti_join"><i class="fa fa-check"></i>left_join(), inner_join(), anti_join()</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#plotting-using-ggplot"><i class="fa fa-check"></i>Plotting using ggplot()</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-1-class-2-introduction-to-r-and-the-tidyverse.html"><a href="week-1-class-2-introduction-to-r-and-the-tidyverse.html#reading-in-external-data"><i class="fa fa-check"></i>Reading in external data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2-class-1-acquiring-and-working-with-network-data.html"><a href="week-2-class-1-acquiring-and-working-with-network-data.html"><i class="fa fa-check"></i>Week 2, Class 1: Acquiring and Working With Network Data</a></li>
<li class="chapter" data-level="" data-path="week-2-class-2-data-cleaning.html"><a href="week-2-class-2-data-cleaning.html"><i class="fa fa-check"></i>Week 2, Class 2: Data Cleaning</a></li>
<li class="chapter" data-level="" data-path="week-3-class-1-data-modelling.html"><a href="week-3-class-1-data-modelling.html"><i class="fa fa-check"></i>Week 3, Class 1: Data modelling</a></li>
<li class="chapter" data-level="" data-path="week-3-class-2-build-a-data-model-with-r.html"><a href="week-3-class-2-build-a-data-model-with-r.html"><i class="fa fa-check"></i>Week 3, Class 2: Build a Data Model with R</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html"><i class="fa fa-check"></i>Week 4, Class 1: Network Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#node-level-metrics"><i class="fa fa-check"></i>Node-level metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#degree"><i class="fa fa-check"></i>Degree</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#betweenness-centrality"><i class="fa fa-check"></i>Betweenness Centrality</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#eigenvector-centrality"><i class="fa fa-check"></i>Eigenvector Centrality</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#closeness-centrality"><i class="fa fa-check"></i>Closeness centrality</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#edge-level-metrics"><i class="fa fa-check"></i>Edge-level metrics</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#global-metrics"><i class="fa fa-check"></i>Global Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#density"><i class="fa fa-check"></i>Density</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#average-path-length"><i class="fa fa-check"></i>Average path length</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#clustering-coefficient"><i class="fa fa-check"></i>Clustering coefficient</a></li>
<li class="chapter" data-level="" data-path="week-4-class-1-network-metrics.html"><a href="week-4-class-1-network-metrics.html#modularity"><i class="fa fa-check"></i>Modularity</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html"><i class="fa fa-check"></i>Week 4, Class 2: Network Analysis with R</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#creating-a-network-object-in-r"><i class="fa fa-check"></i>Creating a Network Object in R</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#import-network-data"><i class="fa fa-check"></i>Import Network Data</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#turn-the-edge-list-into-a-tbl_graph"><i class="fa fa-check"></i>Turn the edge list into a tbl_graph</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#calculating-network-metrics"><i class="fa fa-check"></i>Calculating Network Metrics</a>
<ul>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#global-metrics-1"><i class="fa fa-check"></i>Global metrics</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#node-level-metrics."><i class="fa fa-check"></i>Node-level metrics.</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#summarising-the-network-data"><i class="fa fa-check"></i>Summarising the network data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#joining-additional-data"><i class="fa fa-check"></i>Joining additional data</a></li>
<li class="chapter" data-level="" data-path="week-4-class-2-network-analysis-with-r.html"><a href="week-4-class-2-network-analysis-with-r.html#conclusions"><i class="fa fa-check"></i>Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html"><i class="fa fa-check"></i>Week 5, Class 1: Visualising Networks with ggraph</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#network-visualisations."><i class="fa fa-check"></i>Network visualisations.</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#force-directed-network-visualisations"><i class="fa fa-check"></i>Force-directed network visualisations</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#how-do-we-read-a-network-graph"><i class="fa fa-check"></i>How do we ‘read’ a network graph?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#visualisation-with-ggraph"><i class="fa fa-check"></i>Visualisation with ggraph</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#ggraph-and-other-tidyverse-functions"><i class="fa fa-check"></i>Ggraph and other tidyverse functions</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#adding-aesthetics-such-as-color-and-size"><i class="fa fa-check"></i>Adding aesthetics such as color and size</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#add-node-labels"><i class="fa fa-check"></i>Add node labels</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#calculating-and-coloring-by-community-detection"><i class="fa fa-check"></i>Calculating and coloring by community detection</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#case-study-scientists-and-politicians"><i class="fa fa-check"></i>Case study: Scientists and Politicians</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#exercises---visualising-your-data-with-ggraph."><i class="fa fa-check"></i>Exercises - Visualising your data with ggraph.</a>
<ul>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#create-a-basic-network-visualisation-of-your-network."><i class="fa fa-check"></i>Create a basic network visualisation of your network.</a></li>
<li class="chapter" data-level="" data-path="week-5-class-1-visualising-networks-with-ggraph.html"><a href="week-5-class-1-visualising-networks-with-ggraph.html#calculate-a-network-metric-and-add-this-as-a-size-to-the-network."><i class="fa fa-check"></i>Calculate a network metric and add this as a size to the network.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-5-class-2-visualising-with-gephi.html"><a href="week-5-class-2-visualising-with-gephi.html"><i class="fa fa-check"></i>Week 5, class 2: Visualising with Gephi</a></li>
<li class="chapter" data-level="" data-path="week-6-class-1-bipartite-networks-multigraphs-etc..html"><a href="week-6-class-1-bipartite-networks-multigraphs-etc..html"><i class="fa fa-check"></i>Week 6, Class 1: Bipartite Networks, Multigraphs, etc.</a></li>
<li class="chapter" data-level="" data-path="week-6-class-2-literary-and-linguistic-networks.html"><a href="week-6-class-2-literary-and-linguistic-networks.html"><i class="fa fa-check"></i>Week 6, Class 2: Literary and Linguistic Networks</a></li>
<li class="chapter" data-level="" data-path="week-7-reflections.html"><a href="week-7-reflections.html"><i class="fa fa-check"></i>Week 7: Reflections</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applying Network Analysis to Humanities</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-5-class-1-visualising-networks-with-ggraph" class="section level1 hasAnchor">
<h1>Week 5, Class 1: Visualising Networks with ggraph<a href="week-5-class-1-visualising-networks-with-ggraph.html#week-5-class-1-visualising-networks-with-ggraph" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="network-visualisations." class="section level2 hasAnchor">
<h2>Network visualisations.<a href="week-5-class-1-visualising-networks-with-ggraph.html#network-visualisations." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Perhaps because of the complexity of many network datasets, it is very common for them to be visualised. These visualisations are most often the points and lines which we have used throughout this book, but there are also a number of other ways they can be visualised (which often might be more useful).</p>
<p>From early social network research, researchers tried to manually visualise these graphs in meaningful ways, for example by placing closely-connected clusters together (and away from other clusters), placing important or highly-connected nodes towards the centre, or minimising the number of edge (line) crossings. With large networks, today this process is usually carried out using algorithms to work out the node placements.</p>
<div id="force-directed-network-visualisations" class="section level3 hasAnchor">
<h3>Force-directed network visualisations<a href="week-5-class-1-visualising-networks-with-ggraph.html#force-directed-network-visualisations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The most common family of these algorithsm are ‘force-directed’, meaning they use a simulation of physical forces in order to create sensible placements of nodes. One of the most common of these is the Fruchterman-Reingold layout, which treats edges like a spring. Nodes which share an edge are attracted to each other using a spring-like force; every pair of nodes in the system also has a repulsive force. The algorithm simulates this physical system and stops when the distances between the nodes means that the system is in equilibrium.</p>
</div>
<div id="how-do-we-read-a-network-graph" class="section level3 hasAnchor">
<h3>How do we ‘read’ a network graph?<a href="week-5-class-1-visualising-networks-with-ggraph.html#how-do-we-read-a-network-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="visualisation-with-ggraph" class="section level2 hasAnchor">
<h2>Visualisation with ggraph<a href="week-5-class-1-visualising-networks-with-ggraph.html#visualisation-with-ggraph" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The next step in the workflow is visualising the network. We will use a package called <a href="https://github.com/thomasp85/ggraph">ggraph</a>, which uses the same language as ggplot (used in the earlier lesson) and adds some special functions to visualise networks.</p>
<p>To create a network diagram, first use the function <code>ggraph</code> on your tbl_graph, then add the special <a href="https://ggplot2.tidyverse.org/reference/">ggraph geoms</a> <code>geom_node_point()</code> and <code>geom_edge_link()</code></p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb91-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb91-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb91-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-4" aria-hidden="true" tabindex="-1"></a>letters <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;letter_data.csv&quot;</span>, <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="st">&quot;c&quot;</span>))</span>
<span id="cb91-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-6" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">=</span> letters <span class="sc">%&gt;%</span> </span>
<span id="cb91-7"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from_id, to_id) <span class="sc">%&gt;%</span> </span>
<span id="cb91-8"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>(<span class="at">name =</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb91-9"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-10"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-10" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="ot">=</span> edge_list <span class="sc">%&gt;%</span> </span>
<span id="cb91-11"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>()</span>
<span id="cb91-12"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-13"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb91-13" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph</span></code></pre></div>
<pre><code>## # A tbl_graph: 248 nodes and 364 edges
## #
## # A directed simple graph with 6 components
## #
## # Node Data: 248 × 1 (active)
##   name                   
##   &lt;chr&gt;                  
## 1 E000145-S012650-T000000
## 2 E000189-S014115-T000000
## 3 E000312-S012741-T000000
## 4 E000393-S036175-T000000
## 5 E000520-S001769-T000000
## 6 E000799-S042396-T000000
## # … with 242 more rows
## #
## # Edge Data: 364 × 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    89      1
## 2     2    22      4
## 3     2   199      1
## # … with 361 more rows</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb93-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(<span class="st">&#39;fr&#39;</span>) <span class="sc">+</span> <span class="fu">geom_node_point</span>() <span class="sc">+</span> <span class="fu">geom_edge_link</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<div id="ggraph-and-other-tidyverse-functions" class="section level3 hasAnchor">
<h3>Ggraph and other tidyverse functions<a href="week-5-class-1-visualising-networks-with-ggraph.html#ggraph-and-other-tidyverse-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can use the dplyr pipes to perform calculations, filter the data and then visualise it, all in one go:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb94-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes)<span class="sc">%&gt;%</span> </span>
<span id="cb94-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb94-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(degree <span class="sc">&gt;</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb94-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="st">&#39;nicely&#39;</span>) <span class="sc">+</span> </span>
<span id="cb94-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>() <span class="sc">+</span> </span>
<span id="cb94-7"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
</div>
<div id="adding-aesthetics-such-as-color-and-size" class="section level3 hasAnchor">
<h3>Adding aesthetics such as color and size<a href="week-5-class-1-visualising-networks-with-ggraph.html#adding-aesthetics-such-as-color-and-size" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_node_point()</code> and <code>geom_edge_link</code> take aesthetics, just like regular ggplot geoms. You can calculate degree scores and then set the size of the nodes to the result:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb95-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes)<span class="sc">%&gt;%</span> </span>
<span id="cb95-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>))  <span class="sc">%&gt;%</span> </span>
<span id="cb95-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="st">&#39;nicely&#39;</span>) <span class="sc">+</span> </span>
<span id="cb95-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree)) <span class="sc">+</span> </span>
<span id="cb95-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
</div>
<div id="add-node-labels" class="section level3 hasAnchor">
<h3>Add node labels<a href="week-5-class-1-visualising-networks-with-ggraph.html#add-node-labels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Add <code>geom_node_text()</code> to add text labels to your network. In a larger network, it can be helpful to only show labels belonging to the most-connected nodes. First, join the people table to the nodes table, then use ggraph, setting the <code>label</code> aesthetic. Another <code>dplyr</code> verb, <code>if_else</code> allows you to add conditions to the label command. Here, I’ve used if_else to return the label if the node’s degree score is more than 10:</p>
<p>A the moment, we only have the IDs for each node. In a further step we can join back the actual names and use these as labels.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>))  <span class="sc">%&gt;%</span> </span>
<span id="cb96-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="st">&#39;nicely&#39;</span>) <span class="sc">+</span> </span>
<span id="cb96-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree)) <span class="sc">+</span> </span>
<span id="cb96-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">if_else</span>(degree <span class="sc">&gt;</span><span class="dv">10</span>, name, <span class="cn">NULL</span>), <span class="at">size =</span> degree), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb96-7"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 240 rows containing missing values (geom_text_repel).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
</div>
<div id="calculating-and-coloring-by-community-detection" class="section level3 hasAnchor">
<h3>Calculating and coloring by community detection<a href="week-5-class-1-visualising-networks-with-ggraph.html#calculating-and-coloring-by-community-detection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One very common visualisation is colouring the various groups in the network, which might give us a clue as to its structure.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb98-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.undirected</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb98-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb98-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb98-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>))  <span class="sc">%&gt;%</span> </span>
<span id="cb98-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">community =</span> <span class="fu">group_edge_betweenness</span>(<span class="at">weights =</span><span class="cn">NULL</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb98-7"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(community <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-8"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="st">&#39;nicely&#39;</span>) <span class="sc">+</span> </span>
<span id="cb98-9"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree, <span class="at">color =</span> <span class="fu">as.character</span>(community))) <span class="sc">+</span> </span>
<span id="cb98-10"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb98-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in cluster_edge_betweenness(graph = .G(), weights = weights, directed =
## directed): At core/community/edge_betweenness.c:485 : Membership vector will be
## selected based on the lowest modularity score.</code></pre>
<pre><code>## Warning in cluster_edge_betweenness(graph = .G(), weights = weights, directed
## = directed): At core/community/edge_betweenness.c:492 : Modularity calculation
## with weighted edge betweenness community detection might not make sense --
## modularity treats edge weights as similarities while edge betwenness treats them
## as distances.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-58-1.png" width="672" /></p>
</div>
</div>
<div id="case-study-scientists-and-politicians" class="section level2 hasAnchor">
<h2>Case study: Scientists and Politicians<a href="week-5-class-1-visualising-networks-with-ggraph.html#case-study-scientists-and-politicians" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By joining the node attribute information to the network, we can use this external information in the visualisations.</p>
<p>First, load the same node attributes table as before:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb101-1" aria-hidden="true" tabindex="-1"></a>node_attributes <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&#39;node_attributes.csv&#39;</span>)</span></code></pre></div>
<pre><code>## Rows: 248 Columns: 13
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (11): name, main_name, all_names, links, gender, roles_titles, wikidata_...
## dbl  (2): birth_year, death_year
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>This external information might help us to make sense of the clusters found by the community detection algorithm used above. One of the fields in the data is whether that person is listed as a politician on Wikidata:the field can be either <code>yes</code> or <code>no</code>.</p>
<p>To check whether this might be a clue towards the structure of the network, we will set the color to the community, and the shape to the politician flag.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-1" aria-hidden="true" tabindex="-1"></a>sample_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb103-2"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.undirected</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-3"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>()<span class="sc">%&gt;%</span> </span>
<span id="cb103-4"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb103-5"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&#39;total&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-6"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(node_attributes) <span class="sc">%&gt;%</span> </span>
<span id="cb103-7"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">community =</span> <span class="fu">group_edge_betweenness</span>(<span class="at">weights =</span><span class="cn">NULL</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-8"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(community <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-9"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="st">&#39;nicely&#39;</span>) <span class="sc">+</span> </span>
<span id="cb103-10"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)<span class="sc">+</span> </span>
<span id="cb103-11"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree, <span class="at">color =</span> <span class="fu">as.character</span>(community), <span class="at">shape =</span> politician))  <span class="sc">+</span> </span>
<span id="cb103-12"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(degree <span class="sc">&gt;</span><span class="dv">2</span>, main_name, <span class="cn">NA</span>)), <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">repel =</span> T) <span class="sc">+</span> </span>
<span id="cb103-13"><a href="week-5-class-1-visualising-networks-with-ggraph.html#cb103-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;name&quot;</code></pre>
<pre><code>## Warning in cluster_edge_betweenness(graph = .G(), weights = weights, directed =
## directed): At core/community/edge_betweenness.c:485 : Membership vector will be
## selected based on the lowest modularity score.</code></pre>
<pre><code>## Warning in cluster_edge_betweenness(graph = .G(), weights = weights, directed
## = directed): At core/community/edge_betweenness.c:492 : Modularity calculation
## with weighted edge betweenness community detection might not make sense --
## modularity treats edge weights as similarities while edge betwenness treats them
## as distances.</code></pre>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 200 rows containing missing values (geom_text_repel).</code></pre>
<pre><code>## Warning: ggrepel: 3 unlabeled data points (too many overlaps). Consider
## increasing max.overlaps</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<p>It does look like one of the four clusters (cluster 2) has far fewer politicians. This cluster seems to be a group of group of what we would now call scientists.</p>
<p>This could also be done using the data. Benefit of visualisations.</p>
<p>Some other things this visualisation might tell you:</p>
<ul>
<li><p>What is the importance of the nodes sitting in between the scientists and the politicians? What metrics might they score highly on, and what role might they occupy in this system? What kinds of information may they be able to pass on?</p></li>
<li><p>What is the position of Athanasius Kircher? What does it mean to be on the periphery of this network?</p></li>
<li><p>What effect might additional data have on the metrics in this network? Does this mean we can’t use them?</p></li>
</ul>
</div>
<div id="exercises---visualising-your-data-with-ggraph." class="section level2 hasAnchor">
<h2>Exercises - Visualising your data with ggraph.<a href="week-5-class-1-visualising-networks-with-ggraph.html#exercises---visualising-your-data-with-ggraph." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="create-a-basic-network-visualisation-of-your-network." class="section level3 hasAnchor">
<h3>Create a basic network visualisation of your network.<a href="week-5-class-1-visualising-networks-with-ggraph.html#create-a-basic-network-visualisation-of-your-network." class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="calculate-a-network-metric-and-add-this-as-a-size-to-the-network." class="section level3 hasAnchor">
<h3>Calculate a network metric and add this as a size to the network.<a href="week-5-class-1-visualising-networks-with-ggraph.html#calculate-a-network-metric-and-add-this-as-a-size-to-the-network." class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-4-class-2-network-analysis-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-5-class-2-visualising-with-gephi.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/5-1-visualising-with-ggraph_nb.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
